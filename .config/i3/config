#------Variable Definitions------#


#Mod key
set $mod Mod4

#Workspace names
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

#Colors
set_from_resource $bg xrdb.color0 #976867
set_from_resource $fg xrdb.color1 #947B85
set_from_resource $fg-alt xrdb.color2 #D64841

set $exec exec --no-startup-id
set $exec_always exec_always --no-startup-id


#------Appearance------#


#Window colors
#                       border  background text indicator child_border
client.focused          $fg     $bg        $fg  $fg       $fg
client.unfocused        $fg-alt $bg        $fg  $fg-alt   $fg-alt
client.urgent           $fg     $bg        $fg  $fg       $fg
client.placeholder      $fg     $bg        $fg  $fg       $fg
client.background       $bg

#Gaps and borders
gaps inner 10
gaps outer 0
smart_gaps enable
default_border pixel 1
hide_edge_borders smart

#Auto move new windows to workspaces
for_window [class="Vivaldi-snapshot"] move to workspace $ws1
for_window [class="discord"] move to workspace $ws2
for_window [class="jetbrains-pycharm"] move to workspace $ws5
for_window [class="Lutris"] move to workspace $ws7
for_window [class="Steam"] move to workspace $ws7
for_window [class="MultiMC5"] move to workspace $ws7
for_window [class="Spotify"] move to workspace $ws8
for_window [class="Transmission-gtk"] move to workspace $ws9


#------Starting Scripts------#


#Launch polybar + i3listen, which hiden polybar based on fullscreen apps
$exec_always ~/bin/polybar-start
$exec python3.7 ~/.scripts/i3listen.py

#Launch compton
$exec ~/bin/compton-start

#Launch flashfocus
$exec ~/bin/flashfocus-start

#Entr autoreloaders
$exec echo ~/dot/compton | entr -p ~/bin/compton-start
$exec echo ~/dot/i3 | entr -p i3-msg reload
$exec echo ~/dot/sxhkdrc | entr -p killall -10 sxhkd
$exec echo ~/dot/Xresources | entr -p xrdb ~/.Xresources

#Launch some apps
$exec vivaldi-snapshot
$exec discord
$exec spotify


#------Key Bindings------#


#Remap capslock to escape
$exec_always xmodmap -e "clear lock"
$exec_always xmodmap -e "keycode 66 = Escape NoSymbol Escape"

#Set the modifier key for moving floating windows with mouse
floating_modifier $mod

#General i3 key bindings
bindsym $mod+x kill
bindsym $mod+v split h
bindsym $mod+c split v
bindsym $mod+Shift+space floating toggle
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent
bindsym $mod+d focus child
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Exit i3?' -B 'Yes, exit i3' 'i3-msg exit'"

#Move window focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

#Move windows
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

#Grow windows
bindsym $mod+y resize grow left 10 px or 5 ppt
bindsym $mod+u resize grow down 10 px or 5 ppt
bindsym $mod+i resize grow up 10 px or 5 ppt
bindsym $mod+o resize grow right 10 px or 5 ppt

#Shrink windows
bindsym Shift+$mod+y resize shrink left 10 px or 5 ppt
bindsym Shift+$mod+u resize shrink down 10 px or 5 ppt
bindsym Shift+$mod+i resize shrink up 10 px or 5 ppt
bindsym Shift+$mod+o resize shrink right 10 px or 5 ppt

#Switching workspaces
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10
bindsym $mod+s scratchpad show

#Moving windows to workspaces
bindsym $mod+Shift+1 move container to workspace $ws1 workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2 workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3 workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4 workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5 workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6 workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7 workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8 workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9 workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10 workspace $ws10
bindsym $mod+Shift+s move scratchpad scratchpad show
